<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Suscripción</title>
    <link rel="stylesheet" href="/usuarios/productos/form.css">
</head>
<body>
<header>
    <h1>Editar Suscripción #<%= suscripcion.id_suscripcion %></h1>
    <a href="/suscripciones" class="back-button">← Volver</a>
</header>

<div class="form-container">
    <form action="/suscripciones/edit/<%= suscripcion.id_suscripcion %>" method="POST">
        <label>Usuario:</label>
        <select name="id_usuario" required>
            <% usuarios.forEach(u => { %>
                <option value="<%= u.id_usuario %>" <%= u.id_usuario === suscripcion.id_usuario ? 'selected' : '' %>><%= u.nombre %></option>
            <% }) %>
        </select>

        <label>Nombre del Plan:</label>
        <input type="text" name="nombre_plan" value="<%= suscripcion.nombre_plan %>" required>

        <label>Precio Mensual:</label>
        <input type="number" step="0.01" name="precio_mensual" value="<%= suscripcion.precio_mensual %>" required>

        <label>Fecha de Inicio:</label>
        <input type="date" name="fecha_inicio" value="<%= suscripcion.fecha_inicio.toISOString().split('T')[0] %>" required>

        <label>Fecha de Fin:</label>
        <input type="date" name="fecha_fin" value="<%= suscripcion.fecha_fin.toISOString().split('T')[0] %>" required>

        <label>Estado:</label>
        <select name="estado" required>
            <option value="activa" <%= suscripcion.estado === 'activa' ? 'selected' : '' %>>Activa</option>
            <option value="vencida" <%= suscripcion.estado === 'vencida' ? 'selected' : '' %>>Vencida</option>
            <option value="cancelada" <%= suscripcion.estado === 'cancelada' ? 'selected' : '' %>>Cancelada</option>
        </select>

        <button type="submit">Guardar Cambios</button>
    </form>
</div>
</body>
</html>
